<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Supervisor Dashboard - DoctoLearn</title>
  <link rel="stylesheet" href="../css/main.css">
  <link rel="stylesheet" href="../css/dashboard.css">
  <script src="../js/main.js" defer></script>
    <script src="../js/profile.js" defer></script>

  <script src="../js/dashboard.js" defer></script>
</head>
<body>
  <div class="dashboard-layout">
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="logo">
          <h1>DoctoLearn</h1>
        </div>
        <button id="close-sidebar" class="sidebar-toggle">
          <span></span>
        </button>
      </div>
      
      <div class="user-profile">
        <div class="user-avatar">
          <div class="avatar-placeholder">AD</div>
        </div>
        <div class="user-info">
          <h3 id="user-name">Dr. Alice Davis</h3>
          <p id="user-role">Thesis Supervisor</p>
        </div>
      </div>
      
      <nav class="sidebar-nav">
        <ul>
          <li><a href="#" class="active" data-section="overview"><span class="nav-icon overview-icon"></span>Overview</a></li>
          <li><a href="#" data-section="students"><span class="nav-icon supervisors-icon"></span>My Students</a></li>
          <li><a href="#" data-section="reviews"><span class="nav-icon thesis-icon"></span>Thesis Reviews</a></li>
          <li><a href="#" data-section="meetings"><span class="nav-icon calendar-icon"></span>Meetings</a></li>
          <li><a href="#" data-section="messages"><span class="nav-icon messages-icon"></span>Messages</a></li>
          <li><a href="#" data-section="profile"><span class="nav-icon profile-icon"></span>My Profile</a></li>
          <li><a href="#" data-section="settings"><span class="nav-icon settings-icon"></span>Settings</a></li>
        </ul>
      </nav>
      
      <div class="sidebar-footer">
        <a href="#" id="logout-btn"><span class="nav-icon logout-icon"></span>Logout</a>
      </div>
    </aside>

    <div class="main-content">
      <header class="dashboard-header">
        <div class="header-left">
          <button id="open-sidebar" class="sidebar-toggle">
            <span></span>
          </button>
          <h2 class="page-title">Supervisor Dashboard</h2>
        </div>
        <div class="header-right">
          <div class="header-search">
            <input type="text" placeholder="Search students...">
            <button class="search-btn"></button>
          </div>
          <div class="header-notifications">
            <button class="notification-btn"><span class="badge">5</span></button>
          </div>
        </div>
      </header>

      <!-- Overview Section -->
      <section id="overview" class="dashboard-section active">
        <div class="section-header">
          <h2>Supervisor Overview</h2>
          <p>Welcome back, Dr. Davis! Here's an overview of your doctoral students.</p>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon students-icon"></div>
            <div class="stat-info">
              <h3>Active Students</h3>
              <p class="stat-value">8</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon review-icon"></div>
            <div class="stat-info">
              <h3>Pending Reviews</h3>
              <p class="stat-value">3</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon meeting-icon"></div>
            <div class="stat-info">
              <h3>Upcoming Meetings</h3>
              <p class="stat-value">5</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon completed-icon"></div>
            <div class="stat-info">
              <h3>Completed Theses</h3>
              <p class="stat-value">12</p>
            </div>
          </div>
        </div>
        
        <div class="dashboard-cards">
          <div class="card">
            <div class="card-header">
              <h3>Recent Student Activity</h3>
              <a href="#" class="card-action" data-section="students">View All Students</a>
            </div>
            <div class="card-body">
              <div class="activity-list">
                <div class="activity-item">
                  <div class="activity-icon document-icon"></div>
                  <div class="activity-info">
                    <h4>John Smith submitted Chapter 3</h4>
                    <p>Machine Learning Applications in Medical Diagnostics</p>
                    <span class="activity-date">2 hours ago</span>
                  </div>
                  <a href="#" class="btn btn-small btn-secondary">Review</a>
                </div>
                <div class="activity-item">
                  <div class="activity-icon calendar-icon"></div>
                  <div class="activity-info">
                    <h4>Meeting scheduled with Sarah Johnson</h4>
                    <p>Progress Review - Neural Networks in Computer Vision</p>
                    <span class="activity-date">Yesterday</span>
                  </div>
                  <a href="#" class="btn btn-small btn-secondary">View</a>
                </div>
                <div class="activity-item">
                  <div class="activity-icon message-icon"></div>
                  <div class="activity-info">
                    <h4>New message from Michael Brown</h4>
                    <p>Question about research methodology</p>
                    <span class="activity-date">2 days ago</span>
                  </div>
                  <a href="#" class="btn btn-small btn-secondary">Reply</a>
                </div>
              </div>
            </div>
          </div>
          
          <div class="card">
            <div class="card-header">
              <h3>Upcoming Deadlines</h3>
              <a href="#" class="card-action">View Calendar</a>
            </div>
            <div class="card-body">
              <ul class="deadline-list">
                <li class="deadline-item">
                  <div class="deadline-date">
                    <span class="month">Jun</span>
                    <span class="day">15</span>
                  </div>
                  <div class="deadline-info">
                    <h4>Review John's Progress Report</h4>
                    <p>Annual evaluation due to doctoral school</p>
                  </div>
                  <div class="deadline-status urgent">
                    <span>Urgent</span>
                  </div>
                </li>
                <li class="deadline-item">
                  <div class="deadline-date">
                    <span class="month">Jun</span>
                    <span class="day">20</span>
                  </div>
                  <div class="deadline-info">
                    <h4>Sarah's Methodology Review</h4>
                    <p>Feedback needed on research approach</p>
                  </div>
                  <div class="deadline-status upcoming">
                    <span>Upcoming</span>
                  </div>
                </li>
                <li class="deadline-item">
                  <div class="deadline-date">
                    <span class="month">Jul</span>
                    <span class="day">05</span>
                  </div>
                  <div class="deadline-info">
                    <h4>Department Research Meeting</h4>
                    <p>Present student progress overview</p>
                  </div>
                  <div class="deadline-status planned">
                    <span>Planned</span>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
        
        <div class="dashboard-cards">
          <div class="card">
            <div class="card-header">
              <h3>Student Progress Overview</h3>
              <a href="#" class="card-action">View Details</a>
            </div>
            <div class="card-body">
              <div class="progress-list">
                <div class="progress-item">
                  <div class="student-info">
                    <div class="avatar-placeholder small">JS</div>
                    <div class="info">
                      <h4>John Smith</h4>
                      <p>Year 2 - Machine Learning Applications</p>
                    </div>
                  </div>
                  <div class="progress-bar">
                    <div class="progress" style="width: 45%"></div>
                  </div>
                  <span class="progress-value">45%</span>
                </div>
                <div class="progress-item">
                  <div class="student-info">
                    <div class="avatar-placeholder small">SJ</div>
                    <div class="info">
                      <h4>Sarah Johnson</h4>
                      <p>Year 3 - Neural Networks</p>
                    </div>
                  </div>
                  <div class="progress-bar">
                    <div class="progress" style="width: 75%"></div>
                  </div>
                  <span class="progress-value">75%</span>
                </div>
                <div class="progress-item">
                  <div class="student-info">
                    <div class="avatar-placeholder small">MB</div>
                    <div class="info">
                      <h4>Michael Brown</h4>
                      <p>Year 1 - Quantum Computing</p>
                    </div>
                  </div>
                  <div class="progress-bar">
                    <div class="progress" style="width: 20%"></div>
                  </div>
                  <span class="progress-value">20%</span>
                </div>
              </div>
            </div>
          </div>
          
          <div class="card">
            <div class="card-header">
              <h3>Recent Communications</h3>
              <a href="#" class="card-action" data-section="messages">View All</a>
            </div>
            <div class="card-body">
              <div class="message-list">
                <div class="message-item unread">
                  <div class="avatar-placeholder small">JS</div>
                  <div class="message-content">
                    <div class="message-header">
                      <h4>John Smith</h4>
                      <span class="message-time">10:30 AM</span>
                    </div>
                    <p>Question about the feedback on Chapter 3...</p>
                  </div>
                </div>
                <div class="message-item">
                  <div class="avatar-placeholder small">SJ</div>
                  <div class="message-content">
                    <div class="message-header">
                      <h4>Sarah Johnson</h4>
                      <span class="message-time">Yesterday</span>
                    </div>
                    <p>Thank you for the meeting yesterday...</p>
                  </div>
                </div>
                <div class="message-item">
                  <div class="avatar-placeholder small">MB</div>
                  <div class="message-content">
                    <div class="message-header">
                      <h4>Michael Brown</h4>
                      <span class="message-time">2 days ago</span>
                    </div>
                    <p>Updated research timeline attached...</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Other sections will be implemented similarly -->
      <section id="students" class="dashboard-section">
        <div class="section-header">
          <h2>My Students</h2>
          <p>Manage and track your doctoral students' progress</p>
        </div>
        <!-- Student management content -->
      </section>
      
      <section id="reviews" class="dashboard-section">
        <div class="section-header">
          <h2>Thesis Reviews</h2>
          <p>Review and provide feedback on thesis submissions</p>
        </div>
        <!-- Review management content -->
      </section>

      <!-- section messagerie  -->
       <section id="messages" class="dashboard-section">
  

  <div id="messaging-interface" class="messaging-container">
    <!-- Liste des conversations -->
    <div class="conversation-list">
      
      <div class="conversation-header">Conversations</div>
      <ul id="conversationList">
        <li class="loading">Chargement...</li>
      </ul>

      <div class="new-conversation-wrapper">
  <button id="toggleNewConversation" class="new-conversation-toggle">+</button>

  <div id="newConversationForm" class="new-conversation-form hidden">
    <input type="email" id="newConversationEmail" placeholder="Email du contact..." />
    <button id="startConversationBtn">Commencer</button>
  </div>
</div>

    </div>

    <!-- Zone de chat -->
    <div class="chat-box">
      <div id="chatHeader" class="chat-header">Conversation</div>
      <div id="chatWindow" class="chat-window">
        <p>Sélectionnez une conversation</p>
      </div>

      <form id="sendMessageForm" class="chat-form">
        <input type="hidden" id="receiverEmail" />
        <textarea id="messageContent" placeholder="Écrivez un message..." required></textarea>
        <div class="form-actions">
          <input type="file" id="fileInput" accept="image/*,.pdf" />
          <button type="submit">Envoyer</button>
        </div>
      </form>
    </div>
  </div>
</section>


           <!-- Section Profil -->
      <section id="profile" class="dashboard-section">
        <div class="section-header">
          <h2>Mon Profil</h2>
          <p>Gérez vos informations personnelles et académiques</p>
        </div>
        
        <div class="profile-container">
          <div class="profile-header">
            <div class="profile-avatar">
              <div class="avatar-placeholder large">JD</div>
              <button class="avatar-upload">
                <span>Changer la photo</span>
              </button>
            </div>
            <div class="profile-summary">
              <h3 id="profile-name">Jean Dupont</h3>
              <p id="profile-school">École d'Ingénierie</p>
              <!-- <p id="profile-status">Doctorant (2ème année)</p> -->
              <div class="profile-actions">
                <button id="edit-profile-btn" class="btn btn-secondary">Modifier le profil</button>
              </div>
            </div>
          </div>
          
          <div class="profile-content">
            <div class="profile-section">
              <h3>Informations personnelles</h3>
              <div class="profile-info-grid" id="personal-info">
                <div class="info-group">
                  <span class="info-label">Nom complet</span>
                  <span class="info-value">Jean Dupont</span>
                </div>
                <div class="info-group">
                  <span class="info-label">Email</span>
                  <span class="info-value">jean.dupont@universite.edu</span>
                </div>
                <div class="info-group">
                  <span class="info-label">ID Étudiant</span>
                  <span class="info-value">PHD20230015</span>
                </div>
                <div class="info-group">
                  <span class="info-label">Téléphone</span>
                  <span class="info-value">+33 6 12 34 56 78</span>
                </div>
                <div class="info-group">
                  <span class="info-label">Date de naissance</span>
                  <span class="info-value">15 mars 1990</span>
                </div>
                <div class="info-group">
                  <span class="info-label">Nationalité</span>
                  <span class="info-value">Française</span>
                </div>
              </div>
            </div>
            
            <div class="profile-section">
              <h3>Informations académiques</h3>
              <div class="profile-info-grid" id="academic-info">
                <div class="info-group">
                  <span class="info-label">École doctorale</span>
                  <span class="info-value">École d'Ingénierie</span>
                </div>
                <div class="info-group">
                  <span class="info-label">Unité de recherche</span>
                  <span class="info-value">Unité de recherche en informatique</span>
                </div>
                <div class="info-group">
                  <span class="info-label">Directeur de thèse</span>
                  <span class="info-value">Prof. Bernard Simon</span>
                </div>
                <div class="info-group">
                  <span class="info-label">Superviseur de thèse</span>
                  <span class="info-value">Dr. Alice Dubois</span>
                </div>
                <div class="info-group">
                  <span class="info-label">Date inscription</span>
                  <span class="info-value">5 septembre 2023</span>
                </div>
                <div class="info-group">
                  <span class="info-label">Fin prévue</span>
                  <span class="info-value">Septembre 2026</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Formulaire de modification de profil (caché par défaut) -->
          <div class="profile-edit-form hidden" id="profile-edit-form">
            <div class="form-header">
              <h3>Modifier les informations du profil</h3>
              <button id="cancel-edit-btn" class="btn btn-text">Annuler</button>
            </div>
            
            <form id="edit-profile-form">
              <div class="form-tabs">
                <button type="button" class="form-tab active" data-tab="personal">Infos personnelles</button>
                <button type="button" class="form-tab" data-tab="academic">Infos académiques</button>
              </div>
              
              <div class="form-tab-content active" id="tab-personal">
                <div class="form-group-row">
                  <div class="form-group">
                    <label for="edit-firstname">Prénom</label>
                    <input type="text" id="edit-firstname" name="firstname" value="Jean">
                  </div>
                  <div class="form-group">
                    <label for="edit-lastname">Nom</label>
                    <input type="text" id="edit-lastname" name="lastname" value="Dupont">
                  </div>
                </div>
                
                <div class="form-group">
                    <label for="edit-email">Adresse email</label>
                    <input type="email" id="edit-email" name="email" value="jean.dupont@universite.edu">
                </div>
                
                <div class="form-group">
                    <label for="edit-phone">Numéro de téléphone</label>
                    <input type="tel" id="edit-phone" name="phone" value="+33 6 12 34 56 78">
                </div>
                
                <div class="form-group-row">
                    <div class="form-group">
                        <label for="edit-birth-date">Date de naissance</label>
                        <input type="date" id="edit-birth-date" name="birth-date" value="1990-03-15">
                    </div>
                    <div class="form-group">
                        <label for="edit-nationality">Nationalité</label>
                        <input type="text" id="edit-nationality" name="nationality" value="Française">
                    </div>
                </div>
              </div>
              
              <div class="form-tab-content" id="tab-academic">
                <div class="form-group">
                    <label for="edit-matricule">ID Étudiant (Matricule)</label>
                    <input type="text" id="edit-matricule" name="matricule" value="PHD20230015" readonly>
                    <small class="form-note">L'ID étudiant ne peut pas être modifié</small>
                </div>
                
                <div class="form-group">
                    <label for="edit-research-unit">Unité de recherche</label>
                    <select id="edit-research-unit" name="research-unit">
                        <option value="unit1" selected>Unité de recherche en informatique</option>
                        <option value="unit2">Unité de recherche biomédicale</option>
                        <option value="unit3">Unité de recherche en physique</option>
                        <option value="unit4">Unité de recherche en économie</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="edit-doctoral-school">École doctorale</label>
                    <select id="edit-doctoral-school" name="doctoral-school">
                        <option value="school1" selected>École d'Ingénierie</option>
                        <option value="school2">École des Sciences</option>
                        <option value="school3">École de Médecine</option>
                        <option value="school4">École de Commerce</option>
                    </select>
                </div>
                
                <div class="form-group-row">
                    <div class="form-group">
                        <label for="edit-enrollment-date">Date d'inscription</label>
                        <input type="date" id="edit-enrollment-date" name="enrollment-date" value="2023-09-05" readonly>
                        <small class="form-note">La date d'inscription ne peut pas être modifiée</small>
                    </div>
                    <div class="form-group">
                        <label for="edit-expected-completion">Fin prévue</label>
                        <input type="date" id="edit-expected-completion" name="expected-completion" value="2026-09-05">
                    </div>
                </div>
              </div>
              
              <div class="form-actions">
                <button type="submit" class="btn btn-primary">Enregistrer</button>
              </div>
            </form>
          </div>
        </div>
      </section>
      
      <section id="meetings" class="dashboard-section">
        <div class="section-header">
          <h2>Meetings</h2>
          <p>Schedule and manage student consultations</p>
        </div>
        <!-- Meeting management content -->
      </section>
      
      <!-- Additional sections as needed -->
    </div>
  </div>
</body>
</html>