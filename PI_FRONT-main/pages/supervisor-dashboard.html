<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Supervisor Dashboard - DoctoLearn</title>
  <link rel="stylesheet" href="../css/main.css">
  <link rel="stylesheet" href="../css/dashboard.css">
  <link rel="stylesheet" href="../css/meetings.css">
  <script src="../js/main.js" defer></script>
  <script src="../js/dashboard.js" defer></script>
  <script src="../js/meetings.js" defer></script>
</head>
<body>
  <div class="dashboard-layout">
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="logo">
          <h1>DoctoLearn</h1>
        </div>
        <button id="close-sidebar" class="sidebar-toggle">
          <span></span>
        </button>
      </div>
      
      <div class="user-profile">
        <div class="user-avatar">
          <div class="avatar-placeholder">AD</div>
        </div>
        <div class="user-info">
          <h3 id="user-name">Dr. Alice Davis</h3>
          <p id="user-role">Thesis Supervisor</p>
        </div>
      </div>
      
      <nav class="sidebar-nav">
        <ul>
          <li><a href="#" class="active" data-section="overview"><span class="nav-icon overview-icon"></span>Overview</a></li>
          <li><a href="#" data-section="students"><span class="nav-icon supervisors-icon"></span>My Students</a></li>
          <li><a href="#" data-section="reviews"><span class="nav-icon thesis-icon"></span>Thesis Reviews</a></li>
          <li><a href="#" data-section="meetings"><span class="nav-icon calendar-icon"></span>RÃ©unions</a></li>
          <li><a href="#" data-section="messages"><span class="nav-icon messages-icon"></span>Messages</a></li>
          <li><a href="#" data-section="profile"><span class="nav-icon profile-icon"></span>My Profile</a></li>
          <li><a href="#" data-section="settings"><span class="nav-icon settings-icon"></span>Settings</a></li>
        </ul>
      </nav>
      
      <div class="sidebar-footer">
        <a href="#" id="logout-btn"><span class="nav-icon logout-icon"></span>Logout</a>
      </div>
    </aside>

    <div class="main-content">
      <header class="dashboard-header">
        <div class="header-left">
          <button id="open-sidebar" class="sidebar-toggle">
            <span></span>
          </button>
          <h2 class="page-title">Supervisor Dashboard</h2>
        </div>
        <div class="header-right">
          <div class="header-search">
            <input type="text" placeholder="Search students...">
            <button class="search-btn"></button>
          </div>
          <div class="header-notifications">
            <button class="notification-btn"><span class="badge">5</span></button>
          </div>
        </div>
      </header>

      <!-- Overview Section -->
      <section id="overview" class="dashboard-section active">
        <div class="section-header">
          <h2>Supervisor Overview</h2>
          <p>Welcome back, Dr. Davis! Here's an overview of your doctoral students.</p>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon students-icon"></div>
            <div class="stat-info">
              <h3>Active Students</h3>
              <p class="stat-value">8</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon review-icon"></div>
            <div class="stat-info">
              <h3>Pending Reviews</h3>
              <p class="stat-value">3</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon meeting-icon"></div>
            <div class="stat-info">
              <h3>Upcoming Meetings</h3>
              <p class="stat-value">5</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon completed-icon"></div>
            <div class="stat-info">
              <h3>Completed Theses</h3>
              <p class="stat-value">12</p>
            </div>
          </div>
        </div>
        
        <div class="dashboard-cards">
          <div class="card">
            <div class="card-header">
              <h3>Recent Student Activity</h3>
              <a href="#" class="card-action" data-section="students">View All Students</a>
            </div>
            <div class="card-body">
              <div class="activity-list">
                <div class="activity-item">
                  <div class="activity-icon document-icon"></div>
                  <div class="activity-info">
                    <h4>John Smith submitted Chapter 3</h4>
                    <p>Machine Learning Applications in Medical Diagnostics</p>
                    <span class="activity-date">2 hours ago</span>
                  </div>
                  <a href="#" class="btn btn-small btn-secondary">Review</a>
                </div>
                <div class="activity-item">
                  <div class="activity-icon calendar-icon"></div>
                  <div class="activity-info">
                    <h4>Meeting scheduled with Sarah Johnson</h4>
                    <p>Progress Review - Neural Networks in Computer Vision</p>
                    <span class="activity-date">Yesterday</span>
                  </div>
                  <a href="#" class="btn btn-small btn-secondary">View</a>
                </div>
                <div class="activity-item">
                  <div class="activity-icon message-icon"></div>
                  <div class="activity-info">
                    <h4>New message from Michael Brown</h4>
                    <p>Question about research methodology</p>
                    <span class="activity-date">2 days ago</span>
                  </div>
                  <a href="#" class="btn btn-small btn-secondary">Reply</a>
                </div>
              </div>
            </div>
          </div>
          
          <div class="card">
            <div class="card-header">
              <h3>Upcoming Deadlines</h3>
              <a href="#" class="card-action">View Calendar</a>
            </div>
            <div class="card-body">
              <ul class="deadline-list">
                <li class="deadline-item">
                  <div class="deadline-date">
                    <span class="month">Jun</span>
                    <span class="day">15</span>
                  </div>
                  <div class="deadline-info">
                    <h4>Review John's Progress Report</h4>
                    <p>Annual evaluation due to doctoral school</p>
                  </div>
                  <div class="deadline-status urgent">
                    <span>Urgent</span>
                  </div>
                </li>
                <li class="deadline-item">
                  <div class="deadline-date">
                    <span class="month">Jun</span>
                    <span class="day">20</span>
                  </div>
                  <div class="deadline-info">
                    <h4>Sarah's Methodology Review</h4>
                    <p>Feedback needed on research approach</p>
                  </div>
                  <div class="deadline-status upcoming">
                    <span>Upcoming</span>
                  </div>
                </li>
                <li class="deadline-item">
                  <div class="deadline-date">
                    <span class="month">Jul</span>
                    <span class="day">05</span>
                  </div>
                  <div class="deadline-info">
                    <h4>Department Research Meeting</h4>
                    <p>Present student progress overview</p>
                  </div>
                  <div class="deadline-status planned">
                    <span>Planned</span>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
        
        <div class="dashboard-cards">
          <div class="card">
            <div class="card-header">
              <h3>Student Progress Overview</h3>
              <a href="#" class="card-action">View Details</a>
            </div>
            <div class="card-body">
              <div class="progress-list">
                <div class="progress-item">
                  <div class="student-info">
                    <div class="avatar-placeholder small">JS</div>
                    <div class="info">
                      <h4>John Smith</h4>
                      <p>Year 2 - Machine Learning Applications</p>
                    </div>
                  </div>
                  <div class="progress-bar">
                    <div class="progress" style="width: 45%"></div>
                  </div>
                  <span class="progress-value">45%</span>
                </div>
                <div class="progress-item">
                  <div class="student-info">
                    <div class="avatar-placeholder small">SJ</div>
                    <div class="info">
                      <h4>Sarah Johnson</h4>
                      <p>Year 3 - Neural Networks</p>
                    </div>
                  </div>
                  <div class="progress-bar">
                    <div class="progress" style="width: 75%"></div>
                  </div>
                  <span class="progress-value">75%</span>
                </div>
                <div class="progress-item">
                  <div class="student-info">
                    <div class="avatar-placeholder small">MB</div>
                    <div class="info">
                      <h4>Michael Brown</h4>
                      <p>Year 1 - Quantum Computing</p>
                    </div>
                  </div>
                  <div class="progress-bar">
                    <div class="progress" style="width: 20%"></div>
                  </div>
                  <span class="progress-value">20%</span>
                </div>
              </div>
            </div>
          </div>
          
          <div class="card">
            <div class="card-header">
              <h3>Recent Communications</h3>
              <a href="#" class="card-action" data-section="messages">View All</a>
            </div>
            <div class="card-body">
              <div class="message-list">
                <div class="message-item unread">
                  <div class="avatar-placeholder small">JS</div>
                  <div class="message-content">
                    <div class="message-header">
                      <h4>John Smith</h4>
                      <span class="message-time">10:30 AM</span>
                    </div>
                    <p>Question about the feedback on Chapter 3...</p>
                  </div>
                </div>
                <div class="message-item">
                  <div class="avatar-placeholder small">SJ</div>
                  <div class="message-content">
                    <div class="message-header">
                      <h4>Sarah Johnson</h4>
                      <span class="message-time">Yesterday</span>
                    </div>
                    <p>Thank you for the meeting yesterday...</p>
                  </div>
                </div>
                <div class="message-item">
                  <div class="avatar-placeholder small">MB</div>
                  <div class="message-content">
                    <div class="message-header">
                      <h4>Michael Brown</h4>
                      <span class="message-time">2 days ago</span>
                    </div>
                    <p>Updated research timeline attached...</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Other sections will be implemented similarly -->
      <section id="students" class="dashboard-section">
        <div class="section-header">
          <h2>My Students</h2>
          <p>Manage and track your doctoral students' progress</p>
        </div>
        <!-- Student management content -->
      </section>
      
      <section id="reviews" class="dashboard-section">
        <div class="section-header">
          <h2>Thesis Reviews</h2>
          <p>Review and provide feedback on thesis submissions</p>
        </div>
        <!-- Review management content -->
      </section>
      
      <section id="meetings" class="dashboard-section">
        <!-- <div class="section-header">
          <h2>Meetings</h2>
          <p>Schedule and manage student consultations</p>
        </div> -->
         <div class="meetings-container">
          <div class="meetings-header">
            <div class="meetings-title">
              <h2>Gestion des RÃ©unions</h2>
              <p>Planifier et gÃ©rer les consultations d'Ã©tudiants</p>
            </div>
            <div class="meetings-actions">
              <button class="btn btn-primary" id="new-meeting-btn">
                <span class="btn-icon">+</span>
                Planifier Nouvelle RÃ©union
              </button>
            </div>
          </div>

          <div class="meetings-toolbar">
            <div class="toolbar-left">
              <div class="view-toggles">
                <button class="view-btn active" data-view="calendar">
                  <span class="view-icon">ð</span>
                  Calendrier
                </button>
                <button class="view-btn" data-view="list">
                  <span class="view-icon">ð</span>
                  Liste
                </button>
              </div>
            </div>
            <div class="toolbar-right">
              <div class="filters">
                <select id="meeting-filter" class="filter-select">
                  <option value="tous">Toutes les RÃ©unions</option>
                  <option value="aujourdhui">Aujourd'hui</option>
                  <option value="semaine">Cette Semaine</option>
                  <option value="mois">Ce Mois</option>
                  <option value="a-venir">Ã Venir</option>
                  <option value="passees">PassÃ©es</option>
                </select>
                <select id="student-filter" class="filter-select">
                  <option value="tous">Tous les Ãtudiants</option>
                  <option value="john-smith">Jean Dupont</option>
                  <option value="sarah-johnson">Sarah Martin</option>
                  <option value="michael-brown">Michel Bernard</option>
                  <option value="emma-wilson">Emma Dubois</option>
                  <option value="robert-davis">Robert Moreau</option>
                </select>
              </div>
            </div>
          </div>

          <!-- Calendar View -->
          <div id="calendar-view" class="meeting-view active">
            <div class="calendar-container">
              <div class="calendar-header">
                <div class="calendar-nav">
                  <button class="nav-btn" id="prev-month">â¹</button>
                  <h3 id="current-month">Juin 2024</h3>
                  <button class="nav-btn" id="next-month">âº</button>
                </div>
                <div class="calendar-actions">
                  <button class="btn btn-secondary" id="today-btn">Aujourd'hui</button>
                </div>
              </div>
              
              <div class="calendar-grid">
                <div class="calendar-weekdays">
                  <div class="weekday">Dim</div>
                  <div class="weekday">Lun</div>
                  <div class="weekday">Mar</div>
                  <div class="weekday">Mer</div>
                  <div class="weekday">Jeu</div>
                  <div class="weekday">Ven</div>
                  <div class="weekday">Sam</div>
                </div>
                <div class="calendar-days" id="calendar-days">
                  <!-- Calendar days will be generated by JavaScript -->
                </div>
              </div>
            </div>
          </div>

          <!-- List View -->
          <div id="list-view" class="meeting-view">
            <div class="meetings-list-container">
              <div class="meetings-list" id="meetings-list">
                <!-- Meetings will be populated by JavaScript -->
              </div>
            </div>
          </div>

          <!-- Loading State -->
          <div id="loading-state" class="loading-state" style="display: none;">
            <div class="loading-spinner"></div>
            <p>Chargement des rÃ©unions...</p>
          </div>

          <!-- Empty State -->
          <div id="empty-state" class="empty-state" style="display: none;">
            <div class="empty-icon">ð</div>
            <h3>Aucune rÃ©union trouvÃ©e</h3>
            <p>Aucune rÃ©union ne correspond Ã  vos filtres ou critÃ¨res de recherche actuels.</p>
            <button class="btn btn-primary" id="create-first-meeting">Planifier Votre PremiÃ¨re RÃ©union</button>
          </div>
        </div>

        <!-- Meeting Details Modal -->
        <div id="meeting-modal" class="modal">
          <div class="modal-overlay"></div>
          <div class="modal-content">
            <div class="modal-header">
              <h3 id="modal-title">DÃ©tails de la RÃ©union</h3>
              <button class="modal-close" id="close-modal">&times;</button>
            </div>
            <div class="modal-body" id="modal-body">
              <!-- Modal content will be populated by JavaScript -->
            </div>
          </div>
        </div>

        <!-- New Meeting Form Modal -->
        <div id="new-meeting-modal" class="modal">
          <div class="modal-overlay"></div>
          <div class="modal-content modal-large">
            <div class="modal-header">
              <h3 id="form-modal-title">Planifier Nouvelle RÃ©union</h3>
              <button class="modal-close" id="close-new-meeting-modal">&times;</button>
            </div>
            <div class="modal-body">
              <form id="new-meeting-form" class="meeting-form">
                <div class="form-grid">
                  <div class="form-group full-width">
                    <label for="meeting-title">Titre de la RÃ©union *</label>
                    <input type="text" id="meeting-title" name="title" required placeholder="Entrer le titre de la rÃ©union">
                  </div>
                  
                  <div class="form-group">
                    <label for="meeting-student">Ãtudiant *</label>
                    <select id="meeting-student" name="student" required>
                      <option value="">SÃ©lectionner l'Ãtudiant</option>
                      <option value="john-smith">Jean Dupont</option>
                      <option value="sarah-johnson">Sarah Martin</option>
                      <option value="michael-brown">Michel Dubois</option>
                      <option value="emma-wilson">Emma Wilson</option>
                    </select>
                  </div>
                  
                  <div class="form-group">
                    <label for="meeting-type">Type de RÃ©union *</label>
                    <select id="meeting-type" name="type" required>
                      <option value="consultation">Consultation</option>
                      <option value="suivi-progres">Suivi de ProgrÃ¨s</option>
                      <option value="soutenance-these">Soutenance de ThÃ¨se</option>
                      <option value="discussion-recherche">Discussion de Recherche</option>
                      <option value="revue-proposition">RÃ©vision de Proposition</option>
                    </select>
                  </div>
                  
                  <div class="form-group">
                    <label for="meeting-date">Date *</label>
                    <input type="date" id="meeting-date" name="date" required>
                  </div>
                  
                  <div class="form-group">
                    <label for="meeting-time">Heure *</label>
                    <input type="time" id="meeting-time" name="time" required>
                  </div>
                  
                  <div class="form-group">
                    <label for="meeting-duration">DurÃ©e</label>
                    <select id="meeting-duration" name="duration">
                      <option value="30">30 minutes</option>
                      <option value="60" selected>1 heure</option>
                      <option value="90">1h30</option>
                      <option value="120">2 heures</option>
                    </select>
                  </div>
                  
                  <div class="form-group full-width">
                    <label for="meeting-location">Lieu</label>
                    <input type="text" id="meeting-location" name="location" placeholder="Bureau, En ligne, etc.">
                  </div>
                  
                  <div class="form-group full-width">
                    <label for="meeting-description">Description/Agenda</label>
                    <textarea id="meeting-description" name="description" rows="4" placeholder="Agenda ou description de la rÃ©union..."></textarea>
                  </div>
                </div>
                
                <div class="form-actions">
                  <button type="button" class="btn btn-secondary" id="cancel-meeting">Annuler</button>
                  <button type="submit" class="btn btn-primary" id="submit-meeting">
                    <span class="btn-loading" style="display: none;">â³</span>
                    <span class="btn-text">Planifier la RÃ©union</span>
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>

        <!-- Confirmation Modal -->
        <div id="confirm-modal" class="modal">
          <div class="modal-overlay"></div>
          <div class="modal-content modal-small">
            <div class="modal-header">
              <h3 id="confirm-title">Confirmer l'Action</h3>
              <button class="modal-close" id="close-confirm-modal">&times;</button>
            </div>
            <div class="modal-body">
              <p id="confirm-message">Ãtes-vous sÃ»r de vouloir effectuer cette action ?</p>
              <div class="form-actions">
                <button type="button" class="btn btn-secondary" id="confirm-cancel">Annuler</button>
                <button type="button" class="btn btn-danger" id="confirm-action">Confirmer</button>
              </div>
            </div>
          </div>
        </div>
        <!-- Meeting management content -->
      </section>
      
      <!-- Additional sections as needed -->
    </div>
  </div>
</body>
</html>